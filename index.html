<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cast Player – AirPlay • Chromecast • Boost</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Google Cast Sender SDK -->
  <script defer src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
</head>
<body>
  <div class="app">
    <header class="topbar glass">
      <h1>Cast Player</h1>
      <div class="spacer"></div>
      <button id="airplayBtn" class="btn" title="AirPlay" hidden>
        <span> AirPlay</span>
      </button>
      <button id="castBtn" class="btn" title="Chromecast" disabled>
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1,18 L3,18 C4.66,18 6,19.34 6,21 L6,23 L4,23 C2.34,23 1,21.66 1,20 L1,18 Z M1,14 L1,16 C4.87,16 8,19.13 8,23 L10,23 C10,18.03 5.97,14 1,14 Z M1,10 L1,12 C7.07,12 12,16.93 12,23 L14,23 C14,15.82 8.18,10 1,10 Z M3,3 L21,3 C22.1,3 23,3.9 23,5 L23,17 C23,18.1 22.1,19 21,19 L14,19 L14,17 L21,17 L21,5 L3,5 L3,10 L1,10 L1,5 C1,3.9 1.9,3 3,3 Z"/></svg>
        <span>Cast</span>
      </button>
    </header>

    <main class="content glass">
      <section class="loader">
        <div class="file-line">
          <label class="btn">
            <input id="fileInput" type="file" accept="video/*,audio/*" hidden />
            Charger un fichier
          </label>
          <span class="hint">• Lecture locale. <strong>AirPlay ok</strong>. Pour Chromecast, il faut une <em>URL publique</em> (voir ci-dessous).</span>
        </div>

        <form id="urlForm" class="url-line">
          <input id="urlInput" type="url" placeholder="Colle une URL directe (mp4, webm, mp3, m3u8...)" />
          <button class="btn" type="submit">Lire l’URL</button>
        </form>
      </section>

      <section class="player-wrap">
        <video id="player" playsinline controls crossorigin="anonymous" x-webkit-airplay="allow"></video>
      </section>

      <section class="controls">
        <div class="control">
          <label for="volumeRange">Volume</label>
          <input id="volumeRange" type="range" min="0" max="1" step="0.01" value="1" />
        </div>
        <div class="control">
          <label for="boostRange">Boost (0–400%)</label>
          <input id="boostRange" type="range" min="1" max="4" step="0.01" value="1.0" />
        </div>
        <div class="control">
          <label for="playbackRate">Vitesse</label>
          <input id="playbackRate" type="range" min="0.25" max="2" step="0.05" value="1" />
        </div>
      </section>

      <section class="tips">
        <ul>
          <li><strong>AirPlay</strong> : Safari (iPhone/iPad/Mac) → bouton  AirPlay.</li>
          <li><strong>Chromecast</strong> : Chrome/Edge → bouton Cast (nécessite une <u>URL publique</u> pour la vidéo).</li>
          <li><strong>Bluetooth</strong> : change la sortie audio au niveau de l’OS (casque/enceinte BT).</li>
        </ul>
        <div id="status" class="status">Prêt.</div>
      </section>
    </main>

    <footer class="foot glass">
      <small>© Toi • Héberge sur GitHub Pages ✨</small>
    </footer>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
